# 次世代 AI ネイティブ ERP システム概要

## 1. 概要 (Executive Summary)

本システムは、従来の「設定型」「メニュー駆動型」の ERP とは一線を画す、**AI ネイティブかつ自然言語駆動型**の次世代業務管理プラットフォームです。

従来の ERP が「データの記録・集計」を主眼としていたのに対し、本システムは**「AI エージェントによる業務の代行・自律化」**をコアコンセプトとしています。給与計算、会計仕訳、承認フローなどの複雑な業務ロジックを、プログラミングや複雑なパラメータ設定ではなく、**自然言語（Natural Language）**で定義・実行できる点が最大の特徴です。

---

## 2. 従来型 ERP との決定的な違い (Key Differentiators)

| 特徴 | 従来型 ERP (Traditional ERP) | 本システム (AI-Native ERP) |
| :--- | :--- | :--- |
| **業務ロジック定義** | 多数のチェックボックス、パラメータ設定、スクリプト開発が必要 | **自然言語ポリシー** (例: "残業代は基本給の1.25倍" と書くだけで計算ロジックが生成される) |
| **ユーザーインターフェース** | 固定的なメニュー階層、多数の入力フォーム | **チャットボット/エージェント (AgentKit)** が対話形式で意図を理解し、タスクを提案・実行 |
| **データ入力・処理** | 人手による転記、OCR テンプレートの手動定義 | **AI による非定型ドキュメント解析** (請求書、日報等を自動認識し、構造化データへ変換) |
| **拡張性・柔軟性** | データベース変更には開発・デプロイが必要 | **ダイナミック・スキーマ (JSON Structures)** により、稼働中にデータ構造や UI を即座に拡張可能 |
| **自動化の範囲** | 定型的なバッチ処理に限られる | **判断を伴う自動化** (例: 仕訳科目の推論、異常値の検知、通知タイミングの自律判断) |

---

## 3. 主要モジュールと AI 活用 (Key Modules & AI Capabilities)

### 3.1. HR / 給与計算 (HR & Payroll)
- **自然言語給与ポリシー (Natural Language Payroll Policy)**:
  - 複雑な給与規定（残業、遅刻控除、社会保険料率など）を自然言語で記述するだけで、AI が計算ロジック (DSL) にコンパイルします。
  - 法改正や社内規定の変更にも、テキストを修正するだけで即座に対応可能です。
- **勤怠・給与の統合**:
  - 日々の勤怠データ (Timesheet) から自動的に残業・深夜・休日労働を集計し、給与計算に反映します。
- **自動仕訳連携**:
  - 給与計算結果に基づき、会計仕訳 (Journal Entries) を自動生成。仕訳ルールも自然言語で定義可能です（例：「借方は給与手当、貸方は未払費用」）。

### 3.2. 会計・財務 (Finance & Accounting)
- **エージェント型会計処理 (Agentic Accounting)**:
  - 領収書や請求書をアップロードすると、AI が内容を解析し、適切な勘定科目を推論して仕訳ドラフトを作成します。
  - 過去の仕訳履歴や自然言語ルールに基づいて、仕訳精度が継続的に向上します。
- **Moneytree 連携**:
  - 銀行口座やクレジットカードの明細を自動取得し、AI が入金消込 (Reconciliation) や経費精算を提案します。
- **自動採番・伝票管理**:
  - 整合性の取れた伝票番号管理と、ドリルダウン可能な財務諸表 (BS/PL) 出力機能を備えています。

### 3.3. ワークフロー・承認 (Workflow & Approvals)
- **自然言語ワークフロー**:
  - 「5万円以上の経費は部長承認が必要」といった自然言語ルールから、承認ルートを自動生成します。
- **ドキュメント・ベースの自動化**:
  - 申請書や証明書発行依頼 (Certificate Request) に対し、PDF を自動生成・メール送付する機能を内包しています。

### 3.4. エージェント基盤 (AgentKit Core)
- **対話型インターフェース (Conversational UI)**:
  - ユーザーはチャット形式でシステムに指示を出せます（例：「この請求書を処理して」「今月の給与計算を実行して」）。
- **シナリオ・ルーティング**:
  - ユーザーの意図を理解し、適切な業務シナリオ（経費精算、在庫管理、CRMなど）へ自動的に振り分けます。

---

## 4. 技術アーキテクチャ (Technical Architecture)

### バックエンド (Backend)
- **Framework**: .NET 8 (C#) - 高性能かつ堅牢な型安全性。
- **Database**: PostgreSQL (JSONB) - リレーショナルデータの信頼性と、NoSQL の柔軟性を兼ね備えたハイブリッド構成。
- **AI Integration**: OpenAI API (GPT-4o) を活用したロジックコンパイラ、OCR、意図推論エンジン。
- **Infrastructure**: Azure Blob Storage (文書管理), Npgsql (DB接続)。

### フロントエンド (Frontend)
- **Framework**: Vue 3 + TypeScript - 高速でインタラクティブな UI。
- **UI Library**: Element Plus - 統一感のあるモダンなデザインコンポーネント。
- **Architecture**: メタデータ駆動型 UI (Schema-driven UI)。サーバー側のスキーマ定義に基づいてフォームや一覧画面が動的に生成されます。

### 特筆すべき設計思想: ダイナミック・スキーマ (Dynamic Schema)
本システムは、ハードコードされたテーブル構造に依存せず、`schemas` テーブルで定義された JSON スキーマに基づいて動作します。
これにより、**「システムを止めずに」**新しい管理項目の追加、バリデーションルールの変更、画面レイアウトの調整が可能です。これは、ビジネススピードの速い現代企業にとって強力な武器となります。

---

## 5. まとめ (Conclusion)

本システムは、単なる「記録システム (System of Record)」ではなく、**「判断と実行のシステム (System of Agency)」**です。
AI をアドオンとして後付けするのではなく、**システムの核（カーネル）に AI を据える**ことで、これまでの ERP では不可能だった「設定レス」「柔軟性」「自律性」を実現しています。

