# PayMate（給与計算SaaS）プロジェクト設計書

> 作成日：2026-02-26  
> コンセプト：**タイムシートを投げるだけで給与処理が完結する、多言語対応 AI Agent 給与 SaaS**

---

## 0. なぜ今これを作るか

### 競合の穴

| | freee給与 | マネーフォワード給与 | **PayMate** |
|--|----------|---------------|------------|
| 無料tier | なし | なし | **あり（〜5名）** |
| 料金 | ¥2,400/月〜 | ¥2,980/月〜 | **¥1,280/月〜** |
| 多言語対応 | 日本語のみ | 日本語のみ | **日/英/中(簡)/中(繁)/韓** |
| タイムシート自動解析 | 弱い | 弱い | **コア機能（AI Agent）** |
| 従業員への収集自動化 | なし | なし | **自動メール+URL収集** |
| ターゲット | 全業種 | 全業種 | **飲食・ホテル・小売・派遣** |

### 市場の実態
日本の外国人労働者数は200万人超（2025年）。その多くが飲食・ホテル・小売・製造・派遣に集中している。しかし給与計算ツールは日本語のみ。**外国人従業員が多い職場の担当者は、日本語が読めない従業員の給与明細説明を毎月手動でやっている。**

---

## 1. 製品コンセプト

### コアバリュー
**「管理者はボタンを2回押すだけで給与処理が完了する」**

1. 「今月の勤怠収集」ボタンを押す → Agent が全従業員にメール/URL送信
2. 「給与計算・送信」ボタンを押す → Agent が計算・明細メール・レポート出力

### ターゲット
- 従業員数：〜200名規模
- 業種：飲食・ホテル・小売・人材派遣・製造（外国人従業員が多い業種）
- 担当者：経理担当・事務担当・オーナー兼任者（給与計算の専門家ではない人）

---

## 2. 全体フロー

```
【月次給与処理フロー】

管理者
  │
  ├─① 勤怠収集開始
  │     Agent → 全従業員にメール/URL 自動送信
  │                 ↓
  │           従業員（自分の言語で表示）
  │             ├─ ファイルアップロード（Excel/CSV/画像/PDF）
  │             │    → AI が自動解析・構造化
  │             └─ 手入力フォーム（日付×出退勤時刻）
  │
  ├─② 未提出者への自動リマインド
  │     設定した期日の前日・当日に自動送信
  │
  ├─③ 全員提出完了 → 管理者に通知
  │
  ├─④ 管理者が内容確認・修正（必要な場合のみ）
  │
  └─⑤ 給与計算実行
         Agent が一括計算
           ↓
         給与明細PDF 生成（各従業員の言語で）
           ↓
         従業員に明細メール 一括送信
           ↓
         各種レポート出力
           - 給与明細一覧
           - 銀行振込データ（全銀フォーマット）
           - 仕訳データ（freee/マネーフォワード連携用CSV）
           - 社会保険料一覧
```

---

## 3. 機能一覧

### 3.1 従業員マスタ管理

```
基本情報
├── 氏名（日本語・ローマ字・母国語）
├── 国籍・在留資格
├── 雇用形態（正社員/パート/アルバイト/派遣/業務委託）
├── 給与形態（月給/時給/日給/年俸）
├── 基本給・各種手当
├── 部署・役職
├── 入社日・雇用期間
└── 連絡先（メール・電話）

給与計算用設定
├── 社会保険加入状況（健保/厚年/雇保）
├── 扶養家族数
├── 課税・非課税通勤費
├── 各種控除（財形貯蓄・組合費等）
├── 残業単価計算方式
└── 所得税甲乙区分

銀行情報
├── 銀行名・支店名・口座番号
└── 振込名義
```

### 3.2 勤怠管理

- 月次タイムシート（日付×出勤・退勤・休憩・欠勤・有給）
- 残業区分自動判定（法定内/法定外/深夜/休日/休日深夜）
- 有給残日数管理
- 従業員向け提出フォーム（多言語）
- ファイルアップロード → AI自動解析
- 提出状況ダッシュボード（未提出者の可視化）
- 自動リマインドメール設定

### 3.3 給与計算エンジン

```
計算項目
├── 支給
│   ├── 基本給（月給/時給換算）
│   ├── 残業代（4区分：法内/法外/深夜/休日）
│   ├── 各種手当（通勤/住宅/家族/資格/その他）
│   └── 賞与（別途処理）
│
└── 控除
    ├── 健康保険料（都道府県別料率・自動更新）
    ├── 介護保険料（40歳以上）
    ├── 厚生年金保険料
    ├── 雇用保険料（業種別料率）
    ├── 所得税（源泉徴収税額表・甲乙）
    ├── 住民税（前年度確定額・手動入力）
    └── その他控除（財形・組合費等）
```

**計算根拠の明示**：各控除の計算式と根拠法令を明細に表示（透明性担保・免責）

### 3.4 給与明細

- PDF自動生成（従業員ごとの言語設定で出力）
- メール自動一括送信
- Webポータルでの閲覧（明細をメールにURLで通知する方式も可）
- 過去明細の保管・検索

### 3.5 レポート・出力

| 出力物 | フォーマット | 用途 |
|--------|------------|------|
| 給与明細一覧 | PDF/Excel | 社内保管 |
| 銀行振込データ | 全銀フォーマット | 振込処理 |
| 仕訳データ | CSV | freee/マネーフォワード連携 |
| 社会保険料一覧 | Excel | 申告用 |
| 雇用保険料一覧 | Excel | 申告用 |
| 源泉徴収一覧 | Excel | 税務署提出用 |

### 3.6 多言語対応

| 機能 | 対応言語 |
|------|---------|
| 管理画面UI | 日/英/中(簡)/中(繁)/韓 |
| 従業員向け勤怠入力フォーム | 日/英/中(簡)/中(繁)/韓 |
| 給与明細PDF | 従業員ごとに言語設定 |
| メール通知 | 従業員の言語設定に従い自動選択 |
| 計算根拠説明 | 日/英/中(簡)/中(繁)/韓 |

### 3.7 AI Agent 機能

- **タイムシート自動解析**：フォーマットが不統一なExcel/CSV/画像/PDFを読み取り構造化
- **異常値検知**：「24時間勤務」「マイナス残業」等の入力ミスを自動フラグ
- **法令変更アラート**：料率変更時に管理者に通知（毎年4月対応）
- **チャット質問応答**：「この従業員の残業代がなぜこの金額か」を自然言語で説明

---

## 4. 技術設計

### 4.1 システム構成

```
[フロントエンド]
Next.js 14 (App Router)
├── next-i18next（5言語対応）
├── 管理者画面
│   ├── 従業員マスタ管理
│   ├── 勤怠収集ダッシュボード
│   ├── 給与計算・確認画面
│   └── レポート出力
└── 従業員向け勤怠提出フォーム
    └── 認証不要（URLトークン方式）

[バックエンド]
.NET 8 Web API
├── 給与計算エンジン（C#）
├── PDF生成（QuestPDF）
├── Excel出力（ClosedXML）
├── メール送信（SendGrid）
└── バックグラウンドジョブ（Hangfire）

[AI Layer]
├── タイムシート解析：GPT-4o / DeepSeek（ファイル→構造化JSON）
├── 異常値検知：ルールベース + LLM
└── チャット質問応答：RAG（給与計算ルール知識ベース）

[データベース]
PostgreSQL（Supabase）
├── companies（会社マスタ）
├── employees（従業員マスタ）
├── timesheets（勤怠データ）
├── payroll_records（給与計算結果）
├── payslips（給与明細）
└── tax_rates（税率マスタ・年次更新）

[インフラ]
├── フロントエンド：Vercel
├── バックエンド：Railway or Fly.io
├── ファイルストレージ：Supabase Storage
├── メール：SendGrid
└── PDF/レポート：サーバーサイド生成
```

### 4.2 従業員向け勤怠提出（認証不要フロー）

```
管理者が収集開始
  → DBにトークン生成（UUID + 有効期限）
  → 従業員メールアドレスに以下を送信：

  件名（従業員の言語で）：
  "【PayMate】3月分の勤怠を提出してください"

  本文：
  提出フォームURL：https://app.paymate.jp/submit/[TOKEN]
  有効期限：2026年3月31日

従業員がURLを開く
  → 言語自動判定（Accept-Language）または選択
  → 自分の勤怠を入力またはファイルアップロード
  → 送信 → トークン無効化
```

### 4.3 給与計算エンジン（年次更新対応）

```csharp
// 税率は年度別にDBから取得（ハードコードしない）
public class PayrollCalculator
{
    // 健康保険料（都道府県×標準報酬月額→料率テーブル）
    // 厚生年金（標準報酬月額→等級テーブル）
    // 雇用保険（業種別料率）
    // 所得税（源泉徴収税額表：甲乙×扶養人数）
    // 残業代（法内/法外×1.25 / 深夜×1.25 / 休日×1.35 / 休日深夜×1.6）
}
```

---

## 5. 料金設計

| プラン | 月額 | 従業員数上限 | 主な機能 |
|--------|------|------------|---------|
| **Free** | ¥0 | 5名まで | 全機能（ウォーターマーク付き明細） |
| **Starter** | ¥1,280 | 30名まで | 全機能・ウォーターマークなし |
| **Business** | ¥3,280 | 100名まで | 全機能 + 優先サポート |
| **Enterprise** | ¥6,800 | 200名まで | 全機能 + カスタム帳票 + API |

> **戦略：** freee（¥2,400〜）の半額以下でスタート。  
> 無料プランで「一度使ったら離れない」粘着ユーザーを獲得。

---

## 6. 開発ロードマップ

### Phase 1 — MVP（6週間）
**目標：自社で実際に使えるレベル**

| 週 | 内容 |
|----|------|
| Week 1-2 | 従業員マスタ + 勤怠入力（手入力フォーム）+ 多言語UI |
| Week 3-4 | 給与計算エンジン（基本）+ 給与明細PDF生成 |
| Week 5 | メール送信（収集URL + 明細）+ 提出状況管理 |
| Week 6 | 銀行振込データ出力 + 社内テスト |

### Phase 2 — AI Agent追加（4週間）
| 週 | 内容 |
|----|------|
| Week 7-8 | タイムシートファイル自動解析（AI） |
| Week 9 | 異常値検知 + 計算根拠チャット説明 |
| Week 10 | 公開ベータ・フィードバック収集 |

### Phase 3 — 正式リリース（4週間）
| 週 | 内容 |
|----|------|
| Week 11-12 | 決済（Stripe）+ 料金プラン実装 |
| Week 13 | freee/マネーフォワード仕訳連携CSV |
| Week 14 | 正式リリース・Product Hunt / SNS告知 |

---

## 7. 月次運用コスト（スモールスタート時）

| 項目 | 月額 |
|------|------|
| Vercel（フロント） | ¥0〜2,000 |
| Railway（バックエンド） | ¥1,500〜3,000 |
| Supabase（DB + Storage） | ¥0（無料枠） |
| SendGrid（メール） | ¥0〜2,000（100通/日まで無料） |
| AI API（DeepSeek） | ¥2,000〜5,000 |
| ドメイン | ¥250 |
| **合計** | **¥6,000〜12,000/月** |

---

## 8. 収益予測

| 時期 | 顧客数 | 平均ARPU | MRR |
|------|--------|---------|-----|
| 3ヶ月 | 10社 | ¥1,500 | ¥15,000 |
| 6ヶ月 | 50社 | ¥2,000 | ¥100,000 |
| 12ヶ月 | 200社 | ¥2,500 | ¥500,000 |
| 18ヶ月 | 500社 | ¥3,000 | ¥1,500,000 |

> 自社利用 → 実績ができる → 同業（ホテル・飲食・派遣）に横展開  
> 「自分たちも使っている」は最強の営業トーク

---

## 9. リスクと対策

| リスク | 対策 |
|--------|------|
| 計算ミスの法的責任 | 計算根拠を全て明示 + 「最終確認は担当者が行う」免責 |
| 毎年の税率更新 | 税率DBを分離設計・年1回更新作業（1〜2時間） |
| freeeが無料化してくる | 多言語 + AI Agentの体験で差別化 |
| 個人情報（給与データ）漏洩 | 暗号化 + アクセスログ + 定期セキュリティ監査 |
| 初期顧客獲得 | **自社利用→実績→紹介**が最短経路 |

---

## 10. 差別化まとめ

```
PayMate が勝てる理由：

1. 多言語（JP/EN/ZH-S/ZH-T/KO）
   → 外国人従業員の多い業種をそのまま取れる
   → freee・マネーフォワードが絶対に短期では真似できない

2. タイムシート収集〜計算〜送信の完全自動化
   → 管理者の作業をボタン2回に削減

3. 半額以下の価格設定
   → 中小企業・小規模事業者に刺さる

4. 自社利用による実績
   → 「作った人が使っている」信頼感
```

---

*PayMate — 多言語対応 AI 給与計算 SaaS、日本の外国人雇用現場の給与処理を変える*
