UPDATE payroll_policies 
SET payload = jsonb_set(
    jsonb_set(payload, '{journalRules}', '[{"name": "wages", "items": [{"code": "BASE"}, {"code": "COMMUTE"}, {"code": "OVERTIME_STD"}, {"code": "OVERTIME_60"}, {"code": "HOLIDAY_PAY"}, {"code": "LATE_NIGHT_PAY"}, {"code": "ABSENCE_DEDUCT", "sign": -1}], "description": "绲︿笌鎵嬪綋锛忔湭鎵曡不鐢?, "debitAccount": "832", "creditAccount": "315"}, {"name": "health", "items": [{"code": "HEALTH_INS"}, {"code": "CARE_INS"}], "description": "鏈墪璨荤敤锛忕ぞ浼氫繚闄洪爯銈婇噾", "debitAccount": "315", "creditAccount": "3181"}, {"name": "pension", "items": [{"code": "PENSION"}], "description": "鏈墪璨荤敤锛忓帤鐢熷勾閲戦爯銈婇噾", "debitAccount": "315", "creditAccount": "3182"}, {"name": "employment", "items": [{"code": "EMP_INS"}], "description": "鏈墪璨荤敤锛忛泧鐢ㄤ繚闄洪爯銈婇噾", "debitAccount": "315", "creditAccount": "3183"}, {"name": "withholding", "items": [{"code": "WHT"}], "description": "鏈墪璨荤敤锛忔簮娉夋墍寰楃◣闋愩倞閲?, "debitAccount": "315", "creditAccount": "3184"}, {"name": "residentTax", "items": [{"code": "RESIDENT_TAX"}], "description": "鏈墪璨荤敤锛忎綇姘戠◣闋愩倞閲?, "debitAccount": "315", "creditAccount": "3185"}, {"name": "nenmatsu_kanpu", "items": [{"code": "NENMATSU_KANPU"}], "description": "NENMATSU_KANPU", "debitAccount": "3184", "creditAccount": "315"}, {"name": "nenmatsu_choshu", "items": [{"code": "NENMATSU_CHOSHU"}], "description": "NENMATSU_CHOSHU", "debitAccount": "315", "creditAccount": "3184"}]'::jsonb),
    '{dsl,journalRules}',
    '[{"name": "wages", "items": [{"code": "BASE"}, {"code": "COMMUTE"}, {"code": "OVERTIME_STD"}, {"code": "OVERTIME_60"}, {"code": "HOLIDAY_PAY"}, {"code": "LATE_NIGHT_PAY"}, {"code": "ABSENCE_DEDUCT", "sign": -1}], "description": "绲︿笌鎵嬪綋锛忔湭鎵曡不鐢?, "debitAccount": "832", "creditAccount": "315"}, {"name": "health", "items": [{"code": "HEALTH_INS"}, {"code": "CARE_INS"}], "description": "鏈墪璨荤敤锛忕ぞ浼氫繚闄洪爯銈婇噾", "debitAccount": "315", "creditAccount": "3181"}, {"name": "pension", "items": [{"code": "PENSION"}], "description": "鏈墪璨荤敤锛忓帤鐢熷勾閲戦爯銈婇噾", "debitAccount": "315", "creditAccount": "3182"}, {"name": "employment", "items": [{"code": "EMP_INS"}], "description": "鏈墪璨荤敤锛忛泧鐢ㄤ繚闄洪爯銈婇噾", "debitAccount": "315", "creditAccount": "3183"}, {"name": "withholding", "items": [{"code": "WHT"}], "description": "鏈墪璨荤敤锛忔簮娉夋墍寰楃◣闋愩倞閲?, "debitAccount": "315", "creditAccount": "3184"}, {"name": "residentTax", "items": [{"code": "RESIDENT_TAX"}], "description": "鏈墪璨荤敤锛忎綇姘戠◣闋愩倞閲?, "debitAccount": "315", "creditAccount": "3185"}, {"name": "nenmatsu_kanpu", "items": [{"code": "NENMATSU_KANPU"}], "description": "NENMATSU_KANPU", "debitAccount": "3184", "creditAccount": "315"}, {"name": "nenmatsu_choshu", "items": [{"code": "NENMATSU_CHOSHU"}], "description": "NENMATSU_CHOSHU", "debitAccount": "315", "creditAccount": "3184"}]'::jsonb
)
WHERE company_code = 'JP01' AND is_active = true;
