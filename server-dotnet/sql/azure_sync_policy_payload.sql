UPDATE payroll_policies SET payload = '{"dsl": {"law": {"source": "dataset", "dependencies": ["jp.health.standardMonthly", "jp.health.rate.employee", "jp.health.rate.employer", "jp.health.care.rate.employee", "jp.health.care.rate.employer", "jp.pension.standardMonthly", "jp.pension.rate.employee", "jp.pension.rate.employer", "jp.ei.rate.employee", "jp.ei.rate.employer"]}, "hints": ["宸茬敓鎴愪綇姘戠◣璁＄畻瑙勫垯锛氫粠浣忔皯绋庣鐞嗘暟鎹腑鏍规嵁褰撳墠鏈堜唤鏌ヨ鎵ｉ櫎閲戦銆?], "rules": [{"item": "RESIDENT_TAX", "type": "deduction", "formula": {"residentTax": {"source": "db"}}, "activation": {"salaryDescriptionNotContains": ["鏅傜郸", "鏃惰柂", "hourly", "鏅傞枔绲?]}}], "multipliers": {"holiday": 1.35, "overtime": 1.25, "lateNight": 1.25, "overtime60": 1.5}, "journalRules": [{"name": "wages", "items": [{"code": "BASE"}, {"code": "COMMUTE"}, {"code": "OVERTIME_STD"}, {"code": "OVERTIME_60"}, {"code": "HOLIDAY_PAY"}, {"code": "LATE_NIGHT_PAY"}, {"code": "ABSENCE_DEDUCT", "sign": -1}], "description": "绲︿笌鎵嬪綋锛忔湭鎵曡不鐢?, "debitAccount": "832", "creditAccount": "315"}, {"name": "health", "items": [{"code": "HEALTH_INS"}, {"code": "CARE_INS"}], "description": "鏈墪璨荤敤锛忕ぞ浼氫繚闄洪爯銈婇噾", "debitAccount": "315", "creditAccount": "3181"}, {"name": "pension", "items": [{"code": "PENSION"}], "description": "鏈墪璨荤敤锛忓帤鐢熷勾閲戦爯銈婇噾", "debitAccount": "315", "creditAccount": "3182"}, {"name": "employment", "items": [{"code": "EMP_INS"}], "description": "鏈墪璨荤敤锛忛泧鐢ㄤ繚闄洪爯銈婇噾", "debitAccount": "315", "creditAccount": "3183"}, {"name": "withholding", "items": [{"code": "WHT"}], "description": "鏈墪璨荤敤锛忔簮娉夋墍寰楃◣闋愩倞閲?, "debitAccount": "315", "creditAccount": "3184"}, {"name": "residentTax", "items": [{"code": "RESIDENT_TAX"}], "description": "鏈墪璨荤敤锛忎綇姘戠◣闋愩倞閲?, "debitAccount": "315", "creditAccount": "3185"}, {"name": "nenmatsu_kanpu", "items": [{"code": "NENMATSU_KANPU"}], "description": "NENMATSU_KANPU", "debitAccount": "3184", "creditAccount": "315"}, {"name": "nenmatsu_choshu", "items": [{"code": "NENMATSU_CHOSHU"}], "description": "NENMATSU_CHOSHU", "debitAccount": "315", "creditAccount": "3184"}], "payrollItems": [{"code": "RESIDENT_TAX", "kind": "deduction", "name": "浣忔皯绋?, "isActive": true}]}, "code": "POL20260124-111817", "rules": [{"item": "BASE", "type": "earning", "formula": {"charRef": "employee.baseSalaryMonth"}, "rounding": {"method": "round_half_down", "precision": 0}, "activation": {"salaryDescriptionNotContains": ["鏅傜郸", "鏃惰柂", "hourly", "鏅傞枔绲?]}}, {"item": "BASE", "type": "earning", "formula": {"hourlyPay": {"baseRef": "employee.hourlyRate", "hoursRef": "employee.workHours.totalHours", "directRate": true, "multiplier": 1}}, "rounding": {"method": "round_half_down", "precision": 0}, "activation": {"salaryDescriptionContains": ["鏅傜郸", "鏃惰柂", "hourly", "鏅傞枔绲?]}}, {"item": "OVERTIME_STD", "type": "earning", "formula": {"hourlyPay": {"baseRef": "employee.baseSalaryMonth", "hoursRef": "employee.workHours.overtimeHours", "multiplier": 1.25}}, "rounding": {"method": "round_half_down", "precision": 0}, "activation": {"salaryDescriptionNotContains": ["鏅傜郸", "鏃惰柂", "hourly", "鏅傞枔绲?]}}, {"item": "ABSENCE_DEDUCT", "type": "deduction", "formula": {"hourlyPay": {"baseRef": "employee.baseSalaryMonth", "hoursRef": "employee.workHours.absenceHours", "multiplier": 1}}, "rounding": {"method": "round_half_down", "precision": 0}, "activation": {"salaryDescriptionNotContains": ["鏅傜郸", "鏃惰柂", "hourly", "鏅傞枔绲?]}}, {"item": "HEALTH_INS", "type": "deduction", "formula": {"rate": "policy.law.health.rate", "_base": {"charRef": "employee.baseSalaryMonth"}}, "rounding": {"method": "round_half_down", "precision": 0}, "activation": {"salaryDescriptionNotContains": ["鏅傜郸", "鏃惰柂", "hourly", "鏅傞枔绲?]}}, {"item": "PENSION", "type": "deduction", "formula": {"rate": "policy.law.pension.rate", "_base": {"charRef": "employee.baseSalaryMonth"}}, "rounding": {"method": "round_half_down", "precision": 0}, "activation": {"salaryDescriptionNotContains": ["鏅傜郸", "鏃惰柂", "hourly", "鏅傞枔绲?]}}, {"item": "EMP_INS", "type": "deduction", "formula": {"rate": "policy.law.employment.rate", "_base": {"charRef": "employee.salaryTotal"}}, "rounding": {"method": "round_half_down", "precision": 0}}, {"item": "WHT", "type": "deduction", "formula": {"withholding": {"category": "monthly_ko"}}}, {"item": "CARE_INS", "type": "deduction", "formula": {"rate": "policy.law.care.rate", "_base": {"charRef": "employee.baseSalaryMonth"}}, "rounding": {"method": "round_half_down", "precision": 0}, "activation": {"salaryDescriptionNotContains": ["鏅傜郸", "鏃惰柂", "hourly", "鏅傞枔绲?]}}, {"item": "RESIDENT_TAX", "type": "deduction", "formula": {"residentTax": {"source": "db"}}, "activation": {"salaryDescriptionNotContains": ["鏅傜郸", "鏃惰柂", "hourly", "鏅傞枔绲?]}}], "nlText": "鏉变含閮藉崝浼氥亼銈撱伣銇不鐜囥伀銈堛倞銆佸悇绀惧摗銇熀鏈郸銈掑熀绀庛仺銇椼仸鍗斾細銇戙倱銇斤紡鍘氱敓骞撮噾銇婧栧牨閰湀椤嶈〃銇収銈夈仐鍚堛倧銇涖€佽┎褰撳尯鍒嗐伄妯欐簴鍫遍叕鏈堥銇ㄨ淇濋櫤鑰呮枡鐜囥倰鑷嫊銇ч仼鐢ㄣ€佺ぞ浼氫繚闄恒兓鍘氱敓骞撮噾銉讳粙璀蜂繚闄猴紙40锝?4姝炽伄銇匡級銈掔畻瀹氥仐銆佷簨妤尯鍒嗐伅涓€鑸仺銇欍倠銆傞泧鐢ㄤ繚闄恒伅闆囩敤淇濋櫤銇竴鑸簨妤伄鏂欑巼銇ц▓绠椼仚銈嬨€佸熀鏈郸銇ㄥ悇绋墜褰撱伄鍚堣▓椤嶃伅瑷堢畻鍩虹銇ㄣ仚銈嬨€傛簮娉夊敬鍙庣◣銇湀椤嶈〃鐢叉瑒銈掔敤銇勩€佺ぞ浼氫繚闄恒仺鍘氱敓骞撮噾鎺ч櫎寰屻伄閲戦銈掕绋庛儥銉笺偣銇ㄣ仐銇︽眰銈併倠銆傘亜銇氥倢銈傚皬鏁伴儴銇?.5鍐嗐倰瓒呫亪銈嬪牬鍚堛伄銇?鍐嗐伀鍒囥倞涓娿亽銆?.5鍐嗕互涓嬨伅鍒囥倞鎹ㄣ仸銈嬨€俓n\n鍕ゆ€犮儑銉笺偪銈掑熀銇棩鍗樹綅銇ф墍瀹氬姶鍍嶆檪闁撱倰瑭曚尽銇椼€佷互涓嬨伄鍓插璩冮噾銈掓敮绲︺仚銈嬨€傛檪闁撳崢渚°伅鏈堥鍩烘湰绲︺倰鏈堥枔鎵€瀹氬姶鍍嶆檪闁撱仹闄ゃ仐銇︾畻瀹氥仚銈嬨€俓n銉绘畫妤墜褰擄紙item: OVERTIME_STD锛夛細1鏃?鏅傞枔銈掕秴銇堛€佹湀60鏅傞枔浠ュ唴銇檪闁撱伀瀵俱仐銇︽檪闁撳崢渚°伄1.25鍊嶃倰閬╃敤銇欍倠銆俓n銉?0鏅傞枔瓒呮畫妤墜褰擄紙item: OVERTIME_60锛夛細鏈?0鏅傞枔銈掕秴銇堛倠娈嬫キ鏅傞枔銇椂闂村崢渚°伄1.5鍊嶃倰閬╃敤銇欍倠銆俓n銉讳紤鏃ュ姶鍍嶆墜褰擄紙item: HOLIDAY_PAY锛夛細娉曞畾浼戞棩锛堣嚜鍕曠鏃ャ偒銉兂銉€銉笺伀銈堛倠鍒ゅ畾锛夈伀鍕ゅ嫏銇椼仧鏃堕棿銇告椂闂村崢渚°伄1.35鍊嶃倰閬╃敤銇欍倠銆俓n銉绘繁澶滄墜褰擄紙item: LATE_NIGHT_PAY锛夛細22:00锝炵繉5:00銇嫟鍕欍仐銇熸檪闁撱伕鏃堕棿鍗樹尽銇?5锛呭姞绠椼仐銇熼銈掗€傜敤銇椼€佹畫妤兓浼戞棩銇ㄩ噸瑜囥仚銈嬪牬鍚堛伅鍚勫壊澧椼倰绱銇欍倠銆俓n銇撱倢銈夈伄鍓插璩冮噾銇郸涓庢槑绱般伀鐙珛銇椼仧闋呯洰銇ㄣ仐銇﹁〃绀恒仐銆佷細璁′笂銈傜郸涓庢墜褰擄紙鍊熸柟锛夛紡鏈墪璨荤敤锛堣哺鏂癸級銇伨銇ㄣ倎銇﹁▓涓娿仚銈嬨€傚悓銇樿哺鏂瑰嫎瀹氥偝銉笺儔銇ц鏁版槑绱般亴銇傘倠鍫村悎銇悎绠椼仚銈嬨€俓n\n娆犲嫟鎺ч櫎锛坕tem: ABSENCE_DEDUCT锛夈伅鎵€瀹氬姶鍍嶆椂闂淬倰涓嬪洖銇ｃ仧涓嶈冻鏅傞枔銇檪闁撳崢渚°倰鎺涖亼銇﹁▓绠椼仐銆佺郸涓庢槑缁嗐仹銇帶闄ら爡鐩仺銇椼仸琛ㄧず銇欍倠銆備細璁″鐞嗐伅绲︿笌鎵嬪綋锛忔湭鎵曡不鐢ㄧ殑浠曡ǔ銇у€熸柟銈掓笡椤嶃仚銈嬪舰銇伨銇ㄣ倎銈嬨€俓n\n鍕ゆ€犮儑銉笺偪銇屽瓨鍦ㄣ仐銇亜鍫村悎銇с倐瑷堢畻銇稓琛屻仐銆佹畫妤兓鎺ч櫎銇疄缁┿偧銉仺銇椼仸鎵便亞銆傚悓鏅傘伀銆屽嫟鎬犮儑銉笺偪銇屾湭鐧婚尣銇仧銈併€佹畫妤兓鎺ч櫎銇疅绺剧劇銇椼仺銇椼仸瑷堢畻銇曘倢銇︺亜銇俱仚銆傘€嶃仺銇勩亞璀﹀憡銈掑埄鐢ㄨ€呫伕琛ㄧず銇欍倠銆俓n\n浼氳浼濈エ杌㈣鐨勮鍒欍伅浠ヤ笅鐨勯€氥倞銇ㄣ仐銆佽哺鍊熷嫎瀹氥偝銉笺儔銇屽悓涓€銇槑缁嗐伅涓€銇ゃ伀銇俱仺銈併倠銆俓n銉诲熀鏈粰銆佹畫妤?娆犲嫟鎺ч櫎銇娿倛銇冲悇绋墜褰擄紙浜ら€氭墜褰撱€佺鐞嗘墜褰撶瓑锛夌殑鍚堣▓锛氬€熸柟=绲︿笌鎵嬪綋銆佽哺鏂?鏈墪璨荤敤\n銉荤ぞ浼氫繚闄猴細鍊熸柟=鏈墪璨荤敤銆佽哺鏂?绀句細淇濋櫤棰勩倞閲慭n銉诲帤鐢熷勾閲戯細鍊熸柟=鏈墪璨荤敤銆佽哺鏂?鍘氱敓骞撮噾棰勩倞閲慭n銉婚泧鐢ㄤ繚闄猴細鍊熸柟=鏈墪璨荤敤銆佽哺鏂?闆囩敤淇濋櫤棰勩倞閲慭n銉绘簮娉夊敬鍙庣◣锛氬€熸柟=鏈墪璨荤敤銆佽哺鏂?婧愭硥鎵€寰楃◣棰勩倞閲慭n\n銉讳綇姘戠◣锛坕tem: RESIDENT_TAX锛夛細浣忔皯绋庣鐞嗐仹鐧婚尣銇曘倢銇熺壒鍒ュ敬鍙庣◣椤嶃亱銈夈€佸綋鏈堝垎鐨勬帶闄ら銈掕嚜鍕曞彇寰椼仚銈嬨€備綇姘戠◣鐨勫勾搴︺伅6鏈堛亱銈夌繉骞?鏈堛伨銇с€備細璁″鐞嗐伅鏈墪璨荤敤锛忎綇姘戠◣棰勩倞閲戙仹浠曡ǔ銇欍倠銆?, "version": "20260124-111817", "isActive": true, "journalRules": [{"name": "wages", "items": [{"code": "BASE"}, {"code": "COMMUTE"}, {"code": "OVERTIME_STD"}, {"code": "OVERTIME_60"}, {"code": "HOLIDAY_PAY"}, {"code": "LATE_NIGHT_PAY"}, {"code": "ABSENCE_DEDUCT", "sign": -1}], "description": "绲︿笌鎵嬪綋锛忔湭鎵曡不鐢?, "debitAccount": "832", "creditAccount": "315"}, {"name": "health", "items": [{"code": "HEALTH_INS"}, {"code": "CARE_INS"}], "description": "鏈墪璨荤敤锛忕ぞ浼氫繚闄洪爯銈婇噾", "debitAccount": "315", "creditAccount": "3181"}, {"name": "pension", "items": [{"code": "PENSION"}], "description": "鏈墪璨荤敤锛忓帤鐢熷勾閲戦爯銈婇噾", "debitAccount": "315", "creditAccount": "3182"}, {"name": "employment", "items": [{"code": "EMP_INS"}], "description": "鏈墪璨荤敤锛忛泧鐢ㄤ繚闄洪爯銈婇噾", "debitAccount": "315", "creditAccount": "3183"}, {"name": "withholding", "items": [{"code": "WHT"}], "description": "鏈墪璨荤敤锛忔簮娉夋墍寰楃◣闋愩倞閲?, "debitAccount": "315", "creditAccount": "3184"}, {"name": "residentTax", "items": [{"code": "RESIDENT_TAX"}], "description": "鏈墪璨荤敤锛忎綇姘戠◣闋愩倞閲?, "debitAccount": "315", "creditAccount": "3185"}, {"name": "nenmatsu_kanpu", "items": [{"code": "NENMATSU_KANPU"}], "description": "NENMATSU_KANPU", "debitAccount": "3184", "creditAccount": "315"}, {"name": "nenmatsu_choshu", "items": [{"code": "NENMATSU_CHOSHU"}], "description": "NENMATSU_CHOSHU", "debitAccount": "315", "creditAccount": "3184"}]}
'::jsonb WHERE company_code = 'JP01' AND is_active = true;
